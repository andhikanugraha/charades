(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["edit"],{1071:function(e,t,n){"use strict";n.r(t);var r=n("5c40");function o(e,t){var n=Object(r["v"])("the-editor");return Object(r["s"])(),Object(r["e"])(n,{title:e.title,words:e.words,id:e.id,onSave:e.handleSave,onDelete:e.handleDelete},null,8,["title","words","id","onSave","onDelete"])}var i=n("a1e9"),c=n("8c4f"),u=n("2357"),l=n("830f"),a={class:"root"},d={class:"pull-right"},s={key:0},f={key:1},p={class:"scrollable"},b={class:"info"},j=Object(r["j"])("div",{class:"label"},"Title:",-1),v={class:"info"},O=Object(r["j"])("div",{class:"label"},"Words:",-1);function m(e,t){var n=Object(r["v"])("v-icon"),o=Object(r["v"])("v-editor-input");return Object(r["s"])(),Object(r["e"])("div",a,[Object(r["j"])("header",null,[Object(r["j"])("div",{class:"close-button",onClick:t[1]||(t[1]=function(){return e.cancel.apply(e,arguments)})},[Object(r["j"])(n,{icon:e.faTimes,"fixed-width":""},null,8,["icon"])]),Object(r["j"])("div",d,[e.isNew?Object(r["f"])("",!0):Object(r["j"])(n,{key:0,icon:e.faTrashAlt,class:"delete-button",onClick:e.deleteTopic},null,8,["icon","onClick"]),Object(r["j"])(n,{icon:e.faSave,onClick:e.save},null,8,["icon","onClick"])]),e.isNew?(Object(r["s"])(),Object(r["e"])("h3",s,"New Topic")):(Object(r["s"])(),Object(r["e"])("h3",f,"Edit Topic"))]),Object(r["j"])("main",null,[Object(r["j"])("div",p,[Object(r["j"])("div",b,[j,Object(r["j"])("p",null,[Object(r["C"])(Object(r["j"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.viewTitle=t}),onKeyup:t[3]||(t[3]=Object(l["c"])((function(){return e.addWord.apply(e,arguments)}),["enter"]))},null,544),[[l["b"],e.viewTitle,void 0,{trim:!0,lazy:!0}]])])]),Object(r["j"])("div",v,[O,(Object(r["s"])(!0),Object(r["e"])(r["b"],null,Object(r["u"])(e.wordList,(function(t,i){return Object(r["s"])(),Object(r["e"])("p",{key:t.key,class:"item"},[Object(r["j"])(o,{modelValue:t.word,"onUpdate:modelValue":function(e){return t.word=e},"auto-focus":t.focus,onBlur:function(t){return e.onBlur(i)},onFocus:function(t){return e.onFocus(i)},onKeyup:Object(l["c"])(e.addWord,["enter"])},null,8,["modelValue","onUpdate:modelValue","auto-focus","onBlur","onFocus","onKeyup"]),Object(r["j"])("span",{class:"item-delete",onClick:function(t){return e.deleteWordAtIndex(i)}},[Object(r["j"])(n,{icon:e.faTimesCircle},null,8,["icon"])],8,["onClick"])])})),128)),Object(r["j"])("p",null,[Object(r["j"])("button",{onClick:t[4]||(t[4]=function(){return e.addWord.apply(e,arguments)})},[Object(r["j"])(n,{icon:e.faPlus},null,8,["icon"])])])])])])])}var y=n("c074"),h=n("29ba");function w(e,t){return Object(r["C"])((Object(r["s"])(),Object(r["e"])("input",{type:"text",ref:"input","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.value=t}),onBlur:t[2]||(t[2]=function(){return e.blur.apply(e,arguments)}),onFocus:t[3]||(t[3]=function(){return e.focus.apply(e,arguments)}),onKeyup:t[4]||(t[4]=function(t){return e.keyup(t)})},null,544)),[[l["b"],e.value,void 0,{trim:!0,lazy:!0}]])}var k=Object(r["k"])({name:"VEditorInput",props:{modelValue:String,autoFocus:Boolean},setup:function(e,t){var n=t.emit,o=Object(i["i"])(e.modelValue),c=Object(i["i"])(),u=function(){return n("blur")},l=function(){return n("focus")},a=function(e){return n("keyup",e)},d=function(){return n("delete")};return Object(r["B"])((function(){e.autoFocus&&Object(r["q"])((function(){var e;return null===(e=c.value)||void 0===e?void 0:e.focus()}))})),Object(r["A"])(o,(function(e){return n("update:modelValue",e)})),{value:o,input:c,blur:u,focus:l,keyup:a,doDelete:d}}});k.render=w;var T=k;function A(e){return I(e)||C(e)||S(e)||g()}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){if(e){if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function C(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function I(e){if(Array.isArray(e))return V(e)}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=Object(r["k"])({name:"TheEditor",props:{title:String,words:Array,id:String},components:{VIcon:h["a"],VEditorInput:T},setup:function(e,t){var n,o,u=t.emit,l=Object(c["c"])(),a=Object(i["i"])(e.title||""),d=Object(i["h"])((null===(n=e.words)||void 0===n?void 0:n.map((function(e,t){return{key:t,word:e}})))||[]),s=Object(i["i"])((null===(o=e.words)||void 0===o?void 0:o.length)||0),f=Object(i["h"])(new Set),p=Object(i["i"])(e.id||""),b=Object(r["d"])((function(){return!p.value}));Object(r["A"])(e,(function(e){var t=e.words||[];d.splice(0),d.splice.apply(d,[0,0].concat(A(t.map((function(e,t){return{key:t,word:e}}))))),s.value=t.length,a.value=e.title||""}));var j=function(){p.value?l.push({name:"game-stored-topic",params:{id:p.value}}):l.push({name:"home"})},v=function(){d.push({word:"",key:s.value,focus:!0}),s.value+=1},O=function(){var e={title:a.value,words:d.map((function(e){return e.word}))};u("save",e)},m=function(){u("delete")},h=function(e){d.splice(e,1)},w=function(e){""===d[e].word.trim()&&f.add(e)},k=function(){f.size>0&&(f.forEach((function(e){return h(e)})),f.clear())};return{viewTitle:a,wordList:d,maxKey:s,emptyIndices:f,isNew:b,cancel:j,addWord:v,save:O,deleteTopic:m,onBlur:w,onFocus:k,deleteWordAtIndex:h,faSave:y["h"],faPlus:y["g"],faTimes:y["k"],faTimesCircle:y["l"],faTrashAlt:y["m"]}}});E.render=m;var x=E;function B(e){return D(e)||U(e)||W(e)||F()}function F(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function W(e,t){if(e){if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function U(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function D(e){if(Array.isArray(e))return K(e)}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n,r,o,i,c){try{var u=e[i](c),l=u.value}catch(a){return void n(a)}u.done?t(l):Promise.resolve(l).then(r,o)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){N(i,r,o,c,u,"next",e)}function u(e){N(i,r,o,c,u,"throw",e)}c(void 0)}))}}var z=Object(r["k"])({name:"Edit",components:{TheEditor:x},props:{id:String,storedTopics:Array},setup:function(e,t){var n,r=t.emit,o=Object(c["c"])(),l=function(){if(e.storedTopics&&e.id)return e.storedTopics.find((function(t){return t.id===e.id}))},a=Object(i["i"])(null===(n=l())||void 0===n?void 0:n.title),d=Object(i["h"])([]),s=Object(i["i"])(!1),f=Object(i["i"])(e.id),p=function(){var e=P((function*(e){f.value=yield Object(u["saveTopic"])(e,f.value),r("load-stored-topics"),o.push({name:"game-stored-topic",params:{id:f.value}})}));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=P((function*(){f.value&&(yield Object(u["deleteTopic"])(f.value),r("load-stored-topics"),o.push({name:"home"}))}));return function(){return e.apply(this,arguments)}}();return P((function*(){if(e.id){var t=yield Object(u["loadTopic"])(e.id);t?(a.value=t.title,d.splice(0),d.splice.apply(d,[0,0].concat(B(t.words))),s.value=!0,f.value=e.id):f.value=""}else f.value=""}))(),{title:a,words:d,existing:s,handleSave:p,handleDelete:b}}});z.render=o;t["default"]=z}}]);